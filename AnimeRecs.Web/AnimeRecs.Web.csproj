<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>
    </ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{47EF7746-B2C4-48EF-B605-C75B753F86AF}</ProjectGuid>
    <ProjectTypeGuids>{E53F8FEA-EAE0-44A6-8774-FFD645390401};{349c5851-65df-11da-9384-00065b846f21};{fae04ec0-301f-11d3-bf4b-00c04f79efbc}</ProjectTypeGuids>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>AnimeRecs.Web</RootNamespace>
    <AssemblyName>AnimeRecs.Web</AssemblyName>
    <TargetFrameworkVersion>v4.0</TargetFrameworkVersion>
    <UseIISExpress>false</UseIISExpress>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(BuildSystem)' == 'MSBuild' ">
    <MvcBuildViews>true</MvcBuildViews>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Common.Logging, Version=2.0.0.0, Culture=neutral, PublicKeyToken=af08829b84f0328e, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\lib\Common.Logging\Common.Logging.dll</HintPath>
    </Reference>
    <Reference Include="Common.Logging.NLog">
      <HintPath>..\lib\Common.Logging\Common.Logging.NLog.dll</HintPath>
    </Reference>
    <Reference Include="MalApi">
      <HintPath>..\lib\MalApi\MalApi.dll</HintPath>
    </Reference>
    <Reference Include="MiscUtil">
      <HintPath>..\lib\MiscUtil\MiscUtil.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="System" />
    <Reference Include="System.Data" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.ComponentModel.DataAnnotations" />
    <Reference Include="System.Core" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Web" />
    <Reference Include="System.Web.Extensions" />
    <Reference Include="System.Web.Abstractions" />
    <Reference Include="System.Web.Routing" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Configuration" />
  </ItemGroup>
  <ItemGroup Condition=" '$(BuildSystem)' == 'MSBuild' ">
    <Reference Include="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" />
    <Reference Include="System.Web.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" />
    <Reference Include="System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" />
    <Reference Include="System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" />
    <Reference Include="System.Web.WebPages.Deployment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" />
    <Reference Include="System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL" />
    <Reference Include="NLog">
      <HintPath>..\lib\NLog\netfx20\NLog.dll</HintPath>
    </Reference>
  </ItemGroup>
  <ItemGroup Condition=" '$(BuildSystem)' != 'MSBuild' ">
    <Reference Include="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\lib\MVC\System.Web.Mvc.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Web.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\lib\MVC\System.Web.Razor.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\lib\MVC\System.Web.WebPages.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Web.Helpers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\lib\MVC\System.Web.Helpers.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Web.WebPages.Deployment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\lib\MVC\System.Web.WebPages.Deployment.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL">
      <HintPath>..\lib\MVC\System.Web.WebPages.Razor.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="NLog">
      <HintPath>..\lib\NLog\mono20\NLog.dll</HintPath>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <Compile Include="AppGlobals.cs" />
    <Compile Include="Config.cs" />
    <Compile Include="Controllers\ErrorController.cs" />
    <Compile Include="Controllers\GetRecsController.cs" />
    <Compile Include="Controllers\HomeController.cs" />
    <Compile Include="Global.asax.cs">
      <DependentUpon>Global.asax</DependentUpon>
    </Compile>
    <Compile Include="IMyAnimeListApiFactory.cs" />
    <Compile Include="IAnimeRecsClientFactory.cs" />
    <Compile Include="Logging.cs" />
    <Compile Include="Models\Json\AjaxError.cs" />
    <Compile Include="Models\Json\AnimeRecsInputJson.cs" />
    <Compile Include="Models\Json\RecResultsAsHtml.cs" />
    <Compile Include="Models\ViewModels\GetRecsViewModel.cs" />
    <Compile Include="Models\ViewModels\HomeViewModel.cs" />
    <Compile Include="MvcExtensions\DecimalModelBinder.cs" />
    <Compile Include="MvcExtensions\LoggingExceptionFilter.cs" />
    <Compile Include="MvcExtensions\NullableDecimalModelBinder.cs" />
    <Compile Include="NoDisposeMyAnimeListApi.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="RecClientFactory.cs" />
    <Compile Include="SingleMyAnimeListApiFactory.cs" />
    <Compile Include="ViewHelpers.cs" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Content\crunchyroll_icon.png" />
    <Content Include="Content\funimation_icon.png" />
    <Content Include="Content\hulu_icon.png" />
    <Content Include="Content\loading.gif" />
    <Content Include="Content\style.css" />
    <None Include="csproj_manually_modified.txt" />
    <Content Include="Content\viz_icon.png" />
    <Content Include="favicon.ico" />
    <Content Include="Global.asax" />
    <Content Include="Scripts\libs\jquery-1.7.1.min.js" />
    <Content Include="Scripts\libs\jquery.placeholder.min.js" />
    <Content Include="Scripts\libs\modernizr-2.0.6.min.js" />
    <Content Include="Scripts\script.js" />
    <Content Include="Web.config">
      <SubType>Designer</SubType>
    </Content>
    <Content Include="Web.Debug.config">
      <DependentUpon>Web.config</DependentUpon>
    </Content>
    <Content Include="Web.Release.config">
      <DependentUpon>Web.config</DependentUpon>
    </Content>
    <Content Include="Views\Web.config" />
    <Content Include="Views\_ViewStart.cshtml" />
    <Content Include="Views\Shared\Error.cshtml" />
    <Content Include="Views\Shared\_Layout.cshtml" />
    <Content Include="Views\Error\Error404.cshtml" />
    <Content Include="Views\GetRecs\AnimeRecs.cshtml" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Views\GetRecs\Fallback.cshtml" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="robots.txt" />
    <Content Include="Views\Home\Index.cshtml" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\AnimeRecs.RecService.ClientLib\AnimeRecs.RecService.ClientLib.csproj">
      <Project>{052C3459-C8BF-44A3-AFE1-8B587B023044}</Project>
      <Name>AnimeRecs.RecService.ClientLib</Name>
    </ProjectReference>
    <ProjectReference Include="..\AnimeRecs.RecEngine.MAL\AnimeRecs.RecEngine.MAL.csproj">
      <Project>{C1154B01-E3AF-48D2-AD2E-3F09B5DAF842}</Project>
      <Name>AnimeRecs.RecEngine.MAL</Name>
    </ProjectReference>
    <ProjectReference Include="..\AnimeRecs.RecEngine\AnimeRecs.RecEngine.csproj">
      <Project>{DB0DAE3C-8E19-4DDA-9B86-620EA5C9C243}</Project>
      <Name>AnimeRecs.RecEngine</Name>
    </ProjectReference>
    <ProjectReference Include="..\AnimeRecs.DAL\AnimeRecs.DAL.csproj">
      <Project>{F7463E78-C746-4D37-A869-759FB38B247B}</Project>
      <Name>AnimeRecs.DAL</Name>
    </ProjectReference>
    <ProjectReference Include="..\AnimeRecs.RecService.DTO\AnimeRecs.RecService.DTO.csproj">
      <Project>{2E870408-2BC8-404F-BCAC-98289C1F489E}</Project>
      <Name>AnimeRecs.RecService.DTO</Name>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <Content Include="Views\GetRecs\AverageScore.cshtml" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Views\GetRecs\MostPopular.cshtml" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Views\GetRecs\RatingPrediction.cshtml" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="Views\GetRecs\AnimeRecs_complex.cshtml" />
  </ItemGroup>
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <Import Condition=" '$(BuildSystem)' == 'MSBuild' " Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v10.0\WebApplications\Microsoft.WebApplication.targets" />
  <Import Condition=" '$(BuildSystem)' != 'MSBuild' " Project="$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v9.0\WebApplications\Microsoft.WebApplication.targets" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it. 
       Other similar extension points exist, see Microsoft.Common.targets.
  <Target Name="BeforeBuild">
  </Target>
  <Target Name="AfterBuild">
  </Target> -->
  <Target Name="MvcBuildViews" AfterTargets="AfterBuild" Condition="'$(MvcBuildViews)'=='true'">
    <AspNetCompiler VirtualPath="temp" PhysicalPath="$(WebProjectOutputDir)" />
  </Target>
  <ProjectExtensions>
    <VisualStudio>
      <FlavorProperties GUID="{349c5851-65df-11da-9384-00065b846f21}">
        <WebProjectProperties>
          <UseIIS>False</UseIIS>
          <AutoAssignPort>True</AutoAssignPort>
          <DevelopmentServerPort>56014</DevelopmentServerPort>
          <DevelopmentServerVPath>/</DevelopmentServerVPath>
          <IISUrl>
          </IISUrl>
          <NTLMAuthentication>False</NTLMAuthentication>
          <UseCustomServer>False</UseCustomServer>
          <CustomServerUrl>
          </CustomServerUrl>
          <SaveServerSettingsInUserFile>False</SaveServerSettingsInUserFile>
        </WebProjectProperties>
      </FlavorProperties>
    </VisualStudio>
  </ProjectExtensions>
  <!-- Visual Studio does not follow project references when building. It will reference the assembly that would be generated but will not build the project.
  
  "Within Visual Studio, the solution file and project build ordering are controlled by Visual Studio itself. When building a solution with msbuild.exe on the command line, MSBuild parses the solution file and orders the project builds. In both cases the projects are built individually in dependency order, and project to project references are not traversed. In contrast, when individual projects are built with msbuild.exe, project to project references are traversed." - http://msdn.microsoft.com/en-us/library/ms171468
  -->
  <PropertyGroup Condition=" '$(BuildingInsideVisualStudio)' == 'true' And '$(BuildSystem)' == 'MSBuild'">
    <PreBuildEvent>C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe /nologo /t:Build "/p:Configuration=$(ConfigurationName)" "/p:Platform=$(PlatformName)" "$(ProjectDir)..\AnimeRecs.RecService.ClientLib\AnimeRecs.RecService.ClientLib.csproj"

C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe /nologo /t:Build "/p:Configuration=$(Configuration)" "/p:Platform=$(Platform)" "$(ProjectDir)..\AnimeRecs.RecEngine.MAL\AnimeRecs.RecEngine.MAL.csproj"

C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe /nologo /t:Build "/p:Configuration=$(Configuration)" "/p:Platform=$(Platform)" "$(ProjectDir)..\AnimeRecs.RecEngine\AnimeRecs.RecEngine.csproj"

C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe /nologo /t:Build "/p:Configuration=$(Configuration)" "/p:Platform=$(Platform)" "$(ProjectDir)..\AnimeRecs.DAL\AnimeRecs.DAL.csproj"

C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe /nologo /t:Build "/p:Configuration=$(Configuration)" "/p:Platform=$(Platform)" "$(ProjectDir)..\AnimeRecs.RecService.DTO\AnimeRecs.RecService.DTO.csproj"</PreBuildEvent>
  </PropertyGroup>
  <!-- Building inside MonoDevelop behaves like building inside Visual Studio. -->
  <PropertyGroup Condition=" '$(BuildingInsideVisualStudio)' == 'true' And '$(BuildSystem)' != 'MSBuild'">
    <PreBuildEvent>xbuild /t:Build "/p:Configuration=$(ConfigurationName);Platform=$(Platform)" "$(MSBuildThisFileDirectory)/../AnimeRecs.RecService.ClientLib/AnimeRecs.RecService.ClientLib.csproj"

xbuild /t:Build "/p:Configuration=$(ConfigurationName);Platform=$(Platform)" "$(MSBuildThisFileDirectory)/../AnimeRecs.RecEngine.MAL/AnimeRecs.RecEngine.MAL.csproj"

xbuild /t:Build "/p:Configuration=$(ConfigurationName);Platform=$(Platform)" "$(MSBuildThisFileDirectory)/../AnimeRecs.RecEngine/AnimeRecs.RecEngine.csproj"

xbuild /t:Build "/p:Configuration=$(ConfigurationName);Platform=$(Platform)" "$(MSBuildThisFileDirectory)/../AnimeRecs.DAL/AnimeRecs.DAL.csproj"

xbuild /t:Build "/p:Configuration=$(ConfigurationName);Platform=$(Platform)" "$(MSBuildThisFileDirectory)/../AnimeRecs.RecService.DTO/AnimeRecs.RecService.DTO.csproj"
    </PreBuildEvent>
  </PropertyGroup>
</Project>